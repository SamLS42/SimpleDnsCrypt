<UserControl
    x:Class="SimpleDnsCrypt.Views.MetroMessageBoxView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cal="http://www.caliburnproject.org"
    xmlns:converters="clr-namespace:SimpleDnsCrypt.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helper="clr-namespace:SimpleDnsCrypt.Helper"
    xmlns:lex="http://wpflocalizeextension.codeplex.com"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Height="200"
    lex:LocalizeDictionary.DesignCulture="en"
    lex:ResxLocalizationProvider.DefaultAssembly="SimpleDnsCrypt"
    lex:ResxLocalizationProvider.DefaultDictionary="Translation"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <converters:BoolToVisibilityCollapsedConverter x:Key="BoolToVisibilityCollapsedConverter" />
            <converters:MessageBoxTypeToColor x:Key="MessageBoxTypeToColor" />
        </ResourceDictionary>
    </UserControl.Resources>

    <Border
        Width="600"
        Padding="10"
        HorizontalAlignment="Center"
        BorderBrush="{Binding MessageBoxType, Converter={StaticResource MessageBoxTypeToColor}}"
        Style="{DynamicResource ModalDialogStyleBorder}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Label Content="{Binding Path=Title}" Style="{DynamicResource HeaderLabelStyle}" />

            <TextBlock
                Grid.Row="1"
                Margin="6,6,0,0"
                helper:NavigationService.Text="{Binding Path=Message}"
                Style="{DynamicResource ModalTextStyle}"
                TextWrapping="Wrap" />

            <StackPanel
                Grid.Row="2"
                Margin="0,0,10,10"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Width="70"
                    Margin="10,0,0,0"
                    cal:Message.Attach="Yes"
                    Background="{Binding MessageBoxType, Converter={StaticResource MessageBoxTypeToColor}}"
                    Content="{lex:Loc Key=yes}"
                    Cursor="Hand"
                    Style="{DynamicResource AccentButtonStyle}"
                    Visibility="{Binding Path=IsYesButtonVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}" />
                <Button
                    Width="70"
                    Margin="10,0,0,0"
                    cal:Message.Attach="No"
                    Background="{Binding MessageBoxType, Converter={StaticResource MessageBoxTypeToColor}}"
                    Content="{lex:Loc Key=no}"
                    Cursor="Hand"
                    Style="{DynamicResource AccentButtonStyle}"
                    Visibility="{Binding Path=IsNoButtonVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}" />
                <Button
                    Width="70"
                    Margin="10,0,0,0"
                    cal:Message.Attach="Ok"
                    Background="{Binding MessageBoxType, Converter={StaticResource MessageBoxTypeToColor}}"
                    Content="{lex:Loc Key=ok}"
                    Cursor="Hand"
                    Style="{DynamicResource AccentButtonStyle}"
                    Visibility="{Binding Path=IsOkButtonVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}" />
                <Button
                    Width="70"
                    Margin="10,0,0,0"
                    cal:Message.Attach="Cancel"
                    Background="{Binding MessageBoxType, Converter={StaticResource MessageBoxTypeToColor}}"
                    Content="{lex:Loc Key=cancel}"
                    Cursor="Hand"
                    IsCancel="True"
                    Style="{DynamicResource AccentButtonStyle}"
                    Visibility="{Binding Path=IsCancelButtonVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}" />
            </StackPanel>
        </Grid>
    </Border>
</UserControl>