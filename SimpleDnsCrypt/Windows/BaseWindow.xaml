<controls:MetroWindow
    x:Class="SimpleDnsCrypt.Windows.BaseWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cal="http://www.caliburnproject.org"
    xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:converters="clr-namespace:SimpleDnsCrypt.Converters"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:lex="http://wpflocalizeextension.codeplex.com"
    Title="{Binding WindowTitle}"
    Width="{Binding WindowWidth, Mode=TwoWay}"
    Height="{Binding WindowHeight, Mode=TwoWay}"
    MinWidth="810"
    MinHeight="360"
    cal:Message.Attach="[Event Closing] = [Action OnClose($eventArgs)]"
    GlowColor="{DynamicResource AccentColorBrush}"
    Icon="../Images/simplednscrypt.ico"
    ResizeMode="CanResizeWithGrip"
    ShowIconOnTitleBar="False"
    ShowInTaskbar="True"
    ShowMaxRestoreButton="False"
    ShowMinButton="True"
    SizeToContent="WidthAndHeight"
    TitleCharacterCasing="Normal"
    TitleForeground="{StaticResource MahApps.Brushes.ThemeForeground}"
    Topmost="False"
    WindowStartupLocation="CenterScreen">
    <controls:MetroWindow.Resources>
        <ResourceDictionary>
            <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        </ResourceDictionary>
    </controls:MetroWindow.Resources>
    <controls:MetroWindow.RightWindowCommands>
        <controls:WindowCommands>
            <controls:WindowCommands.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel />
                </ItemsPanelTemplate>
            </controls:WindowCommands.ItemsPanel>
            <Button
                x:Name="OpenLogDirectory"
                cal:Message.Attach="OpenLogDirectory"
                Cursor="Hand"
                ToolTip="{lex:Loc Key=open_log_directory}">
                <iconPacks:PackIconMaterial Kind="ClipboardText" />
            </Button>
            <Button
                x:Name="About"
                cal:Message.Attach="About"
                Cursor="Hand"
                ToolTip="{lex:Loc Key=about}">
                <iconPacks:PackIconMaterial Kind="Emoticon" />
            </Button>
            <Button
                x:Name="Settings"
                cal:Message.Attach="Settings"
                Cursor="Hand"
                ToolTip="{lex:Loc Key=settings}">
                <iconPacks:PackIconMaterial Kind="Settings" />
            </Button>
            <Button
                x:Name="Proxies"
                cal:Message.Attach="Proxies"
                Cursor="Hand"
                ToolTip="{lex:Loc Key=proxy_manage_proxies}">
                <iconPacks:PackIconMaterial Kind="AccountNetwork" />
            </Button>
            <ComboBox
                Margin="5,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Background="#198AB328"
                Cursor="Hand"
                DisplayMemberPath="Name"
                IsEnabled="True"
                ItemsSource="{Binding Languages}"
                Opacity="0.4"
                SelectedIndex="-1"
                SelectedItem="{Binding SelectedLanguage}"
                Style="{StaticResource MahApps.Styles.ComboBox}" />
        </controls:WindowCommands>
    </controls:MetroWindow.RightWindowCommands>
</controls:MetroWindow>